<pre>
Aggiungiamo questa direttiva personalizzata
<code class="javascript tag" style="font-size:0.7em;">
var myModule.directive('digitalClock', [
    '$timeout',
    '$filter',
    function ($timeout, $filter) {

        return {
            restrict: 'EA',
            template: '-> { { time } } <-',
            replace: false,
            scope: true,
            link: function (scope, element, attrs) {

                var getFormattedDate = function () {
                    return $filter('date')(new Date(), scope.format);
                };

                var delayedUpdate = function () {
                    $timeout(function () {
                        scope.time = getFormattedDate();
                        delayedUpdate(scope);
                    }, 1000);
                };

                scope.format = attrs.format || 'HH:mm:ss';
                scope.time = getFormattedDate();

                delayedUpdate();
            }
        };
    }]);
    </code>
</pre>

